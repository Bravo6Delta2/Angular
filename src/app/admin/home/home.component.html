<div>
<div *ngIf="state == 0">
  <div class="flex h-screen justify-center items-center">
    <div class="rounded-md border-2 border-slate-900 shadow-2xl ">
      <div class="text-3xl bg-slate-900 rounded-t-md p-4">Login to Admin Dashboard</div>
      <div class="flex flex-col pt-4 items-center bg-slate-700 rounded-b-md">
        <div class="mt-4">
          Password: <br/>
          <input type="password" [(ngModel)]="password" class="w-64 input"/>
        </div>

        <button class="mt-4 mb-4 bg-slate-600 pl-8 pr-8 pt-1 pb-1 rounded" (click)="process()">Log in</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="state == 1" class="min-h-screen">
  <div class="flex flex-row justify-evenly border-b border-slate-300">
    <button class="mt-4 mb-4 pl-8 pr-8 pt-1 pb-1 rounded" [ngClass]="{'bg-slate-600': state1 == 1, 'bg-indigo-600': state1 == 0}" (click)="edit()">Add Car</button>
    <button class="mt-4 mb-4 pl-8 pr-8 pt-1 pb-1 rounded" [ngClass]="{'bg-slate-600': state1 == 0, 'bg-indigo-600': state1 == 1}" (click)="list()">List cars</button>
  </div>

    <div *ngIf="state1 == 0" class="flex justify-center items-center pt-20">
      <div class="rounded-md border-2 border-slate-900 shadow-2xl w-96">
        <div class="text-3xl bg-slate-900 rounded-t-md p-4">Add car</div>
        <div class="flex flex-col pt-4 items-center bg-slate-700 rounded-b-md">

          <div class="flex flex-row">
            <div>
              Manufacturer: <br/>
              <input type="text" [(ngModel)]="form.manufacturer" class="w-32 input inputNormal"/>
            </div>
            <div class="ml-8">
              Model: <br/>
              <input type="text" [(ngModel)]="form.model" class="w-32 input inputNormal"/>
            </div>
          </div>

          <div class="flex flex-row mt-4">
            <div>
              Year: <br/>
              <input type="number" [(ngModel)]="form.year" [min]="1900" class="w-32 input inputNormal"/>
            </div>
            <div class="ml-8">
              Color: <br/>
              <input type="text" [(ngModel)]="form.color" class="w-32 input inputNormal"/>
            </div>
          </div>

          <div class="flex flex-row mt-4">
            <div>
              Price: <br/>
              <input type="number" [(ngModel)]="form.price" [min]="0" class="w-32 input inputNormal"/>
            </div>
            <div class="ml-8">
              Type: <br/>
              <input type="text" [(ngModel)]="form.type" class="w-32 input inputNormal"/>
            </div>
          </div>

          <div class="mt-4">
            Plate Number: <br/>
            <input type="text" [(ngModel)]="form.plateNumber" class="w-64 input inputNormal"/>
          </div>
          <div class="mt-4">
            Images:<br/>
            <input type="file" class="block w-full text-sm text-slate-500
                                      file:mr-4 file:py-2 file:px-4
                                      file:rounded-full file:border-0
                                      file:text-sm file:font-semibold
                                      file:bg-indigo-50 file:text-indigo-700
                                      hover:file:bg-indigo-100" accept="image/png, image/jpeg"  (change)="onFileSelected($event)" multiple/>

          </div>

          <button class="mt-4 mb-4 bg-slate-600 pl-8 pr-8 pt-1 pb-1 rounded" (click)="addCar()">Add car</button>
        </div>
      </div>
    </div>

  <div *ngIf="state1 == 1">

    <table class="w-full mt-5 table-fixed border-collapse border border-slate-900">
      <thead>
      <tr class="bg-slate-900">
        <th class="cell">Manufacturer</th>
        <th class="cell">Model</th>
        <th class="cell">Plate Number</th>
        <th class="cell">Year</th>
        <th class="cell">Earned</th>
      </tr>
      </thead>
      <tbody class="bg-slate-700">
      <tr *ngFor="let car of cars">
        <td class="cell">{{car.manufacturer}}</td>
        <td class="cell">{{car.model}}</td>
        <td class="cell">{{car.plateNumber}}</td>
        <td class="cell">{{car.year}}</td>
        <td class="cell" (click)="show(car._id)">Show</td>
      </tr>
      </tbody>
    </table>

    <div *ngIf="state2 == 1" class="flex justify-center mt-10">
      <ngx-charts-line-chart
        [view]="view"
        [legend]="legend"
        [showXAxisLabel]="showXAxisLabel"
        [showYAxisLabel]="showYAxisLabel"
        [xAxis]="xAxis"
        [yAxis]="yAxis"
        [xAxisLabel]="xAxisLabel"
        [yAxisLabel]="yAxisLabel"
        [timeline]="timeline"
        [results]="multi"
      >
      </ngx-charts-line-chart>
    </div>

  </div>

</div>


</div>
